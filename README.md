# üì∞ KhmerTimes Article Parser

–°–∫—Ä–∏–ø—Ç –Ω–∞ Python –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞ –Ω–æ–≤–æ—Å—Ç–µ–π —Å [KhmerTimesKH](https://www.khmertimeskh.com/). –ò–∑–≤–ª–µ–∫–∞–µ—Ç —Å—Ç–∞—Ç—å–∏ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏, —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ç–µ–∫—Å—Ç, —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø–æ –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–º –ø—Ä–∞–≤–∏–ª–∞–º –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ.

---

## ‚öôÔ∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. –ü–µ—Ä–µ–π–¥–∏ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø—Ä–æ–µ–∫—Ç–∞:

    ```bash
    cd C:\Users\model\PycharmProjects\parser_040725
    ```

2. –°–æ–∑–¥–∞–π –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ:

    ```powershell
    python -m venv .venv
    ```

3. –ê–∫—Ç–∏–≤–∏—Ä—É–π –æ–∫—Ä—É–∂–µ–Ω–∏–µ (PowerShell):

    ```powershell
    .venv\Scripts\Activate.ps1
    ```

4. –£—Å—Ç–∞–Ω–æ–≤–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:

    ```bash
    pip install httpx beautifulsoup4
    ```

---

## ‚ñ∂Ô∏è –ó–∞–ø—É—Å–∫ –∏–∑ PyCharm

1. –û—Ç–∫—Ä–æ–π –ø—Ä–æ–µ–∫—Ç –≤ PyCharm
2. –ù–∞–∂–º–∏ **File ‚Üí Settings ‚Üí Project ‚Üí Python Interpreter**  
   –í—ã–±–µ—Ä–∏: `.venv\Scripts\python.exe`
3. –ù–∞–∂–º–∏ **Run ‚Üí Edit Configurations**
    - –ù–∞–∑–≤–∞–Ω–∏–µ: `Khmer Parser`
    - Script path: `parser.py`
    - Python Interpreter: –≤—ã–±–µ—Ä–∏ —Å–æ–∑–¥–∞–Ω–Ω–æ–µ `.venv`
4. –ù–∞–∂–º–∏ –∑–µ–ª—ë–Ω—É—é –∫–Ω–æ–ø–∫—É ‚ñ∂Ô∏è ‚Äî –ø–∞—Ä—Å–∏–Ω–≥ —Å—Ç–∞—Ä—Ç—É–µ—Ç

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞

–ö–∞–∂–¥–∞—è —Å—Ç–∞—Ç—å—è —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ `articles/{ID}_{slug}/`, –≥–¥–µ —Å–æ–¥–µ—Ä–∂–∏—Ç—Å—è:

- `content.txt` ‚Äî —á–∏—Å—Ç—ã–π —Ç–µ–∫—Å—Ç
- `images/` ‚Äî –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω–Ω—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
- `meta.json` ‚Äî –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ (ID, –∑–∞–≥–æ–ª–æ–≤–æ–∫, –¥–∞—Ç–∞, —Å—Å—ã–ª–∫–∞, —Å–ø–∏—Å–æ–∫ —Ñ–∞–π–ª–æ–≤)
- `catalog.json` ‚Äî –æ–±—â–∏–π —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Å—Ç–∞—Ç–µ–π

---

## üîç –¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

–§—É–Ω–∫—Ü–∏—è `is_valid_image(img: Tag) -> bool` —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç `<img>` –ø–æ:

- –ö–ª–∞—Å—Å–∞–º (`class`) ‚Äî –¥–æ–ø—É—Å–∫–∞—é—Ç—Å—è `attachment-post-thumbnail`, `aligncenter`, `featured-image` –∏ –¥—Ä.
- –ü—É—Ç—å –≤ `src` ‚Äî —Å–æ–¥–µ—Ä–∂–∏—Ç `/uploads/`, –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç `ads/`, `.gif` –∏ –¥—Ä.
- `alt` —Ç–µ–∫—Å—Ç ‚Äî –¥–æ–ø—É—Å–∫–∞—é—Ç—Å—è `photo`, `image`; –∏—Å–∫–ª—é—á–∞—é—Ç—Å—è `emoji`, `ad`, `decorative`
- –†–∞–∑–º–µ—Ä (`width`, `height`) ‚Äî –º–∏–Ω–∏–º—É–º 300√ó200 –ø–∏–∫—Å–µ–ª–µ–π
- –†–∞—Å—à–∏—Ä–µ–Ω–∏—è ‚Äî —Ç–æ–ª—å–∫–æ `.jpg`, `.jpeg`, `.png`, `.webp`

–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ñ–∏–ª—å—Ç—Ä–∞ –≥–∏–±–∫–æ –∑–∞–¥–∞—ë—Ç—Å—è —á–µ—Ä–µ–∑ `IMG_FILTER_CONFIG`

---

## üß© –ü–ª–∞–Ω—ã —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è

- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ `featured_media` —á–µ—Ä–µ–∑ REST API
- –ê–≤—Ç–æ–ø—É–±–ª–∏–∫–∞—Ü–∏—è –≤ Telegram
- –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ / –ø–æ–≤—Ç–æ—Ä–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π

---

## üìú –õ–∏—Ü–µ–Ω–∑–∏—è

MIT ‚Äî –∏—Å–ø–æ–ª—å–∑—É–π, –¥–æ—Ä–∞–±–∞—Ç—ã–≤–∞–π, —É–ª—É—á—à–∞–π üõ†Ô∏è
